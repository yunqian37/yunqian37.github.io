(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{409:function(_,v,t){"use strict";t.r(v);var l=t(44),s=Object(l.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"大致框架"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#大致框架"}},[_._v("#")]),_._v(" 大致框架")]),_._v(" "),t("ul",[t("li",[_._v("浏览器构建HTTP Request请求")]),_._v(" "),t("li",[_._v("网络传输")]),_._v(" "),t("li",[_._v("服务器构建HTTP Response响应")]),_._v(" "),t("li",[_._v("网络传输")]),_._v(" "),t("li",[_._v("浏览器渲染页面")])]),_._v(" "),t("h1",{attrs:{id:"解析url"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解析url"}},[_._v("#")]),_._v(" 解析URL")]),_._v(" "),t("p",[t("strong",[_._v("url的组成：")]),_._v(" 协议、主机、端口、路径、查询参数、锚点")]),_._v(" "),t("p",[_._v("每次网络请求时都需要开辟单独的线程进行，如果URL解析到http协议就会新建一个网络线程去处理资源下载")]),_._v(" "),t("h1",{attrs:{id:"构建请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建请求"}},[_._v("#")]),_._v(" 构建请求")]),_._v(" "),t("p",[t("strong",[_._v("应用层进行DNS解析：")])]),_._v(" "),t("p",[_._v("通过DNS将域名解析成IP地址。在解析过程中按照浏览器缓存、系统缓存、路由器缓存、ISP(运营商)DNS缓存、根域名服务器、顶级域名服务器、主域名服务器的顺序，逐步读取缓存，直到拿到IP地址")]),_._v(" "),t("p",[t("strong",[_._v("应用层生辰HTTP请求报文")])]),_._v(" "),t("p",[t("strong",[_._v("传输层建立TCP链接")])]),_._v(" "),t("p",[t("strong",[_._v("网络层使用IP协议来选择路线")])]),_._v(" "),t("p",[t("strong",[_._v("数据链路层实现网络相邻节点间可靠的数据通信")])]),_._v(" "),t("p",[t("strong",[_._v("物理层传输数据")])]),_._v(" "),t("p",[_._v("总结：DNS解析URL地址，生成HTTP请求报文、构建TCP连接、使用IP协议选择传输路线、数据链路层保证数据的可靠传输、物理层将数据转为电子 光学或微波信号进行传输")]),_._v(" "),t("h1",{attrs:{id:"页面渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#页面渲染"}},[_._v("#")]),_._v(" 页面渲染")]),_._v(" "),t("p",[t("strong",[t("a",{attrs:{href:"https://blog.csdn.net/qq_20901397/article/details/79982679"}},[_._v("浏览器内核拿到内容后的大致渲染步骤：")])])]),_._v(" "),t("ul",[t("li",[_._v("解析HTML构建DOM树")]),_._v(" "),t("li",[_._v("解析CSS生成CSS规则树")]),_._v(" "),t("li",[_._v("合并DOM树和CSS规则树，生成render树（渲染树）")]),_._v(" "),t("li",[_._v("布局render树，负责各元素尺寸、位置的计算")]),_._v(" "),t("li",[_._v("绘制render树，绘制页面像素信息")]),_._v(" "),t("li",[_._v("浏览器将各层的信息发送给GUI，GUI将各层合成显示在屏幕上")])]),_._v(" "),t("p",[_._v("注：遇到script则暂停渲染，优先加载并执行js代码，完成再继续。因为js中有可能进行DOM操作改变页面渲染内容")]),_._v(" "),t("p",[t("strong",[t("a",{attrs:{href:"https://juejin.cn/post/6935232082482298911#heading-33"}},[_._v("重绘与回流")])])]),_._v(" "),t("p",[t("strong",[_._v("重绘：")]),_._v(" 当前页面中元素样式的改变并不影响他在文档六种的位置时浏览器会将新样式赋予给元素并重新绘制它")]),_._v(" "),t("p",[t("strong",[_._v("回流：")]),_._v(" 当Render Tree中部分或全部元素的尺寸、结构、或某些属性发生改变时，浏览器重新渲染部分或全部文档的过程")]),_._v(" "),t("p",[t("span",{staticStyle:{color:"red"}},[_._v("回流必将引起重绘，重绘不一定会引起回流")])]),_._v(" "),t("p",[t("strong",[_._v("引起回流的操作：")])]),_._v(" "),t("ul",[t("li",[_._v("页面首次渲染")]),_._v(" "),t("li",[_._v("浏览器窗口大小发生改变")]),_._v(" "),t("li",[_._v("元素尺寸或位置发生改变")]),_._v(" "),t("li",[_._v("元素内容的变化（文字数量或图片大小等）")]),_._v(" "),t("li",[_._v("元素字体大小变化")]),_._v(" "),t("li",[_._v("添加或者删除可见的DOM元素")]),_._v(" "),t("li",[_._v("激活CSS伪类")]),_._v(" "),t("li",[_._v("查询某些属性火调用某些方法")])]),_._v(" "),t("p",[t("strong",[_._v("如何减少回流：")])]),_._v(" "),t("p",[_._v("CSS：")]),_._v(" "),t("ul",[t("li",[_._v("避免使用table布局")]),_._v(" "),t("li",[_._v("尽可能在DOM树的最末端改变class")]),_._v(" "),t("li",[_._v("避免设置多层内连样式")]),_._v(" "),t("li",[_._v("将动画效果应用到position属性为absoulte或fixed的元素上")]),_._v(" "),t("li",[_._v("避免使用CSS表达式")])]),_._v(" "),t("p",[_._v("JS：")]),_._v(" "),t("ul",[t("li",[_._v("避免频繁操作样式")]),_._v(" "),t("li",[_._v("避免频繁操作DOM")]),_._v(" "),t("li",[_._v("可以先为元素设置diaplay:none，操作结束之后再把它显示出来。在该属性的元素上进行DOM操作不会引发重绘和回流")]),_._v(" "),t("li",[_._v("避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用就用一个变量缓存起来")]),_._v(" "),t("li",[_._v("对具有复杂动画的元素使用绝对定位，使其脱离文档流。否则会引起父元素及后续元素频繁回流")])]),_._v(" "),t("h1",{attrs:{id:"性能优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#性能优化"}},[_._v("#")]),_._v(" 性能优化")]),_._v(" "),t("p",[t("strong",[_._v("资源的形式：")])]),_._v(" "),t("ul",[t("li",[_._v("html代码")]),_._v(" "),t("li",[_._v("媒体文件，例：图片、视频")]),_._v(" "),t("li",[_._v("js css")])]),_._v(" "),t("p",[t("strong",[_._v("加载过程：")])]),_._v(" "),t("ul",[t("li",[_._v("DNS解析：域名 => IP地址")]),_._v(" "),t("li",[_._v("浏览器根据IP地址向服务器发起http请求")]),_._v(" "),t("li",[_._v("服务器处理http请求，并返回给浏览器")])]),_._v(" "),t("p",[t("strong",[_._v("window.onload:")]),_._v(" 页面的全部资源加载完才会执行，包括图片、视频等")]),_._v(" "),t("p",[t("strong",[_._v("DOMContentLoaded：")]),_._v(" DOM渲染完即可执行，此时图片、视频可能没有加载完")]),_._v(" "),t("p",[t("strong",[_._v("性能优化原则：")])]),_._v(" "),t("ul",[t("li",[_._v("多使用内存、缓存或其他方法")]),_._v(" "),t("li",[_._v("减少CPU计算量，减少网络加载耗时")])]),_._v(" "),t("p",[t("strong",[_._v("加载更快：")])]),_._v(" "),t("ul",[t("li",[_._v("减少资源体积，压缩代码")]),_._v(" "),t("li",[_._v("减少访问次数，合并代码，SSR服务端渲染，缓存（例：精灵图）")]),_._v(" "),t("li",[_._v("使用更快的网络：CDN")])]),_._v(" "),t("p",[t("strong",[_._v("让渲染更快：")])]),_._v(" "),t("ul",[t("li",[_._v("CSS放在head，JS放在body最下面")]),_._v(" "),t("li",[_._v("尽早开始执行JS，用DOMContentLoaded触发")]),_._v(" "),t("li",[_._v("懒加载（图片懒加载，上滑加载更多）")]),_._v(" "),t("li",[_._v("对DOM查询进行缓存")]),_._v(" "),t("li",[_._v("频繁DOM操作，合并到一起插入DOM结构")]),_._v(" "),t("li",[_._v("节流、防抖")])]),_._v(" "),t("p",[t("strong",[_._v("SSR：")])]),_._v(" "),t("ul",[t("li",[_._v("服务端渲染：将网页和数据一起加载，一起渲染")]),_._v(" "),t("li",[_._v("非SSR（前后端分离）：先加载网页，再加载数据，再渲染数据")]),_._v(" "),t("li",[_._v("例：Vue React SSR")])]),_._v(" "),t("h3",{attrs:{id:"参考链接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[_._v("#")]),_._v(" 参考链接")]),_._v(" "),t("p",[t("a",{attrs:{href:"https://juejin.cn/post/6935232082482298911"}},[_._v("掘金-从输入URL开始建立前端知识体系")])]),_._v(" "),t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/xiaohuochai/p/9193083.html"}},[_._v("博客园-小火柴")])])])}),[],!1,null,null,null);v.default=s.exports}}]);